package types

import (
	"github.com/ethereum/go-ethereum/common"
	"github.com/ethereum/go-ethereum/crypto"
)

const (
	FACTORY_PROXY_ADDRESS_HEX     = "0x00000000000000000000000000000000000000eA"
	PROXY_ADMIN_OWNER_ADDRESS_HEX = "0xa96CaA79eb2312DbEb0B8E93c1Ce84C98b67bF11"
	FACTORY_IMPL_ADDRESS_HEX      = "0x00000000000000000000000000000000000000fa"
	PROXY_ADMIN_ADDRESS_HEX       = "0x00000000000000000000000000000000000000AA"
)

var PROXY_ADMIN_SLOT = common.HexToHash("0xb53127684a568b3173ae13b9f8a6016e243e63b6e8ee1178d6a717850b5d6103")
var PROXY_IMPLEMENTATION_SLOT = common.HexToHash("0x360894a13ba1a3210667c828492db98dca3e2076cc3735a920a3ca505d382bbc")

var ProxyRuntimeBytecode = common.FromHex("0x608060405261000c61000e565b005b7f00000000000000000000000000000000000000000000000000000000000000AA73ffffffffffffffffffffffffffffffffffffffff1633036100d1575f357fffffffff00000000000000000000000000000000000000000000000000000000167f4f1ef28600000000000000000000000000000000000000000000000000000000146100c7576040517fd2b576ec00000000000000000000000000000000000000000000000000000000815260040160405180910390fd5b6100cf6100d9565b565b6100cf610107565b5f806100e8366004818461043e565b8101906100f59190610492565b915091506101038282610117565b5050565b6100cf61011261017e565b6101c2565b610120826101e0565b60405173ffffffffffffffffffffffffffffffffffffffff8316907fbc7cd75a20ee27fd9adebab32041f755214dbc6bffa90cc0225b39da2e5c2d3b905f90a28051156101765761017182826102b3565b505050565b610103610332565b5f6101bd7f360894a13ba1a3210667c828492db98dca3e2076cc3735a920a3ca505d382bbc5473ffffffffffffffffffffffffffffffffffffffff1690565b905090565b365f80375f80365f845af43d5f803e8080156101dc573d5ff35b3d5ffd5b8073ffffffffffffffffffffffffffffffffffffffff163b5f0361024d576040517f4c9c8ce300000000000000000000000000000000000000000000000000000000815273ffffffffffffffffffffffffffffffffffffffff821660048201526024015b60405180910390fd5b7f360894a13ba1a3210667c828492db98dca3e2076cc3735a920a3ca505d382bbc80547fffffffffffffffffffffffff00000000000000000000000000000000000000001673ffffffffffffffffffffffffffffffffffffffff92909216919091179055565b60605f808473ffffffffffffffffffffffffffffffffffffffff16846040516102dc91906105ad565b5f60405180830381855af49150503d805f8114610314576040519150601f19603f3d011682016040523d82523d5f602084013e610319565b606091505b509150915061032985838361036a565b95945050505050565b34156100cf576040517fb398979f00000000000000000000000000000000000000000000000000000000815260040160405180910390fd5b60608261037f5761037a826103fc565b6103f5565b81511580156103a3575073ffffffffffffffffffffffffffffffffffffffff84163b155b156103f2576040517f9996b31500000000000000000000000000000000000000000000000000000000815273ffffffffffffffffffffffffffffffffffffffff85166004820152602401610244565b50805b9392505050565b80511561040c5780518082602001fd5b6040517fd6bda27500000000000000000000000000000000000000000000000000000000815260040160405180910390fd5b5f808585111561044c575f80fd5b83861115610458575f80fd5b5050820193919092039150565b7f4e487b71000000000000000000000000000000000000000000000000000000005f52604160045260245ffd5b5f80604083850312156104a3575f80fd5b823573ffffffffffffffffffffffffffffffffffffffff811681146104c6575f80fd5b9150602083013567ffffffffffffffff8111156104e1575f80fd5b8301601f810185136104f1575f80fd5b803567ffffffffffffffff81111561050b5761050b610465565b6040517fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe0603f7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe0601f8501160116810181811067ffffffffffffffff8211171561057757610577610465565b60405281815282820160200187101561058e575f80fd5b816020840160208301375f602083830101528093505050509250929050565b5f82515f5b818110156105cc57602081860181015185830152016105b2565b505f92019182525091905056fea2646970667358221220e70393c35b3e95d53f92887d1108e4b563be364c093a130a7bb2e621a0aa9b8f64736f6c634300081a0033")

var ProxyAdminRuntimeBytecode = common.FromHex("0x608060405260043610610058575f3560e01c80639623609d116100415780639623609d146100aa578063ad3cb1cc146100bd578063f2fde38b14610112575f80fd5b8063715018a61461005c5780638da5cb5b14610072575b5f80fd5b348015610067575f80fd5b50610070610131565b005b34801561007d575f80fd5b505f5460405173ffffffffffffffffffffffffffffffffffffffff90911681526020015b60405180910390f35b6100706100b8366004610351565b610144565b3480156100c8575f80fd5b506101056040518060400160405280600581526020017f352e302e3000000000000000000000000000000000000000000000000000000081525081565b6040516100a191906104c6565b34801561011d575f80fd5b5061007061012c3660046104df565b6101d5565b61013961023d565b6101425f61028f565b565b61014c61023d565b6040517f4f1ef28600000000000000000000000000000000000000000000000000000000815273ffffffffffffffffffffffffffffffffffffffff841690634f1ef2869034906101a290869086906004016104fa565b5f604051808303818588803b1580156101b9575f80fd5b505af11580156101cb573d5f803e3d5ffd5b5050505050505050565b6101dd61023d565b73ffffffffffffffffffffffffffffffffffffffff8116610231576040517f1e4fbdf70000000000000000000000000000000000000000000000000000000081525f60048201526024015b60405180910390fd5b61023a8161028f565b50565b5f5473ffffffffffffffffffffffffffffffffffffffff163314610142576040517f118cdaa7000000000000000000000000000000000000000000000000000000008152336004820152602401610228565b5f805473ffffffffffffffffffffffffffffffffffffffff8381167fffffffffffffffffffffffff0000000000000000000000000000000000000000831681178455604051919092169283917f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e09190a35050565b73ffffffffffffffffffffffffffffffffffffffff8116811461023a575f80fd5b7f4e487b71000000000000000000000000000000000000000000000000000000005f52604160045260245ffd5b5f805f60608486031215610363575f80fd5b833561036e81610303565b9250602084013561037e81610303565b9150604084013567ffffffffffffffff811115610399575f80fd5b8401601f810186136103a9575f80fd5b803567ffffffffffffffff8111156103c3576103c3610324565b6040517fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe0603f7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe0601f8501160116810181811067ffffffffffffffff8211171561042f5761042f610324565b604052818152828201602001881015610446575f80fd5b816020840160208301375f602083830101528093505050509250925092565b5f81518084525f5b818110156104895760208185018101518683018201520161046d565b505f6020828601015260207fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe0601f83011685010191505092915050565b602081525f6104d86020830184610465565b9392505050565b5f602082840312156104ef575f80fd5b81356104d881610303565b73ffffffffffffffffffffffffffffffffffffffff83168152604060208201525f6105286040830184610465565b94935050505056fea26469706673582212209ce80139bf41b00bc44c4532122ff649c1e8542240b8a5c13f39af0d72f21b2364736f6c634300081a0033")

var FactoryImplRuntimeBytecode = common.FromHex("0x608060405234801561000f575f80fd5b5060043610610163575f3560e01c80639538c4b3116100c7578063d0f4b0971161007d578063edb6a18a11610063578063edb6a18a146103e4578063f2fde38b14610411578063f861134e14610424575f80fd5b8063d0f4b0971461038e578063e720582e146103af575f80fd5b8063b4cb9f8c116100ad578063b4cb9f8c14610355578063c4d66de814610368578063cc005a481461037b575f80fd5b80639538c4b31461031e578063a10bbfb914610342575f80fd5b806330b4a5211161011c57806357b1f59b1161010257806357b1f59b146102c6578063715018a6146102d95780638da5cb5b146102e1575f80fd5b806330b4a521146102675780634716fb2d14610287575f80fd5b80630d7c4b371161014c5780630d7c4b37146101b95780632ab6b9c21461021f57806330363dd214610232575f80fd5b8063031bc85b146101675780630772e63c146101a4575b5f80fd5b61018a610175366004611355565b5f908152600360205260409020549081151590565b604080519283529015156020830152015b60405180910390f35b6101b76101b2366004611394565b610437565b005b6101fa6101c7366004611355565b5f9081526003602090815260408083205483529082905290205473ffffffffffffffffffffffffffffffffffffffff1690565b60405173ffffffffffffffffffffffffffffffffffffffff909116815260200161019b565b6101b761022d3660046113ad565b6104d3565b6101fa610240366004611355565b5f6020819052908152604090205473ffffffffffffffffffffffffffffffffffffffff1681565b6004546101fa9073ffffffffffffffffffffffffffffffffffffffff1681565b61029a610295366004611507565b610574565b6040805173ffffffffffffffffffffffffffffffffffffffff909316835290151560208301520161019b565b6101b76102d436600461166c565b6105cf565b6101b7610690565b7f9016d09d72d40fdae2fd8ceac6b6234c7706214fd39c1cd1e609a0528c1993005473ffffffffffffffffffffffffffffffffffffffff166101fa565b61033261032c366004611394565b3b151590565b604051901515815260200161019b565b6101fa610350366004611507565b6106a3565b6101b761036336600461175a565b610804565b6101b7610376366004611394565b61093d565b6101fa610389366004611507565b610abb565b6103a161039c366004611394565b610e1b565b60405161019b929190611834565b6101fa6103bd366004611355565b60016020525f908152604090205473ffffffffffffffffffffffffffffffffffffffff1681565b6104036103f2366004611355565b60036020525f908152604090205481565b60405190815260200161019b565b6101b761041f366004611394565b611034565b610403610432366004611507565b61109c565b61043f6110cb565b73ffffffffffffffffffffffffffffffffffffffff811661048c576040517f5ab75e0b00000000000000000000000000000000000000000000000000000000815260040160405180910390fd5b600480547fffffffffffffffffffffffff00000000000000000000000000000000000000001673ffffffffffffffffffffffffffffffffffffffff92909216919091179055565b6104db6110cb565b5f8281526003602052604090205415801590610523576040517f5ab75e0b00000000000000000000000000000000000000000000000000000000815260040160405180910390fd5b5f83815260036020526040908190208390555183907f49564762e2866e9dc959573af8fba43b9089624ee471955f601b49fe69716d9f906105679085815260200190565b60405180910390a2505050565b5f805f6105808461109c565b5f8181526001602052604090205473ffffffffffffffffffffffffffffffffffffffff169350905082156105bb57823b15155b915050915091565b6105c4846106a3565b9250823b15156105b3565b6105d76110cb565b815181511415806105ea57508251815114155b15610621576040517f5ab75e0b00000000000000000000000000000000000000000000000000000000815260040160405180910390fd5b5f5b815181101561068a5761068284828151811061064157610641611857565b602002602001015184838151811061065b5761065b611857565b602002602001015184848151811061067557610675611857565b6020026020010151610804565b600101610623565b50505050565b6106986110cb565b6106a15f611159565b565b6004545f9073ffffffffffffffffffffffffffffffffffffffff166106f4576040517f5ab75e0b00000000000000000000000000000000000000000000000000000000815260040160405180910390fd5b5f825f0151836020015160405160200161070f929190611884565b6040516020818303038152906040528051906020012090505f610741825f908152600360205260409020549081151590565b9150508061077b576040517f5ab75e0b00000000000000000000000000000000000000000000000000000000815260040160405180910390fd5b5f6107858561109c565b6004546040513060388201526f5af43d82803e903d91602b57fd5bf3ff602482015273ffffffffffffffffffffffffffffffffffffffff9182166014820152733d602d80600a3d3981f3363d3d373d3d3d363d738152605881018390526037600c82012060788201526055604390910120919250165b95945050505050565b61080c6110cb565b73ffffffffffffffffffffffffffffffffffffffff8116610859576040517f5ab75e0b00000000000000000000000000000000000000000000000000000000815260040160405180910390fd5b5f838152600360205260409020548015801590806108775750838214155b156108ae576040517f5ab75e0b00000000000000000000000000000000000000000000000000000000815260040160405180910390fd5b5f848152602081815260409182902080547fffffffffffffffffffffffff00000000000000000000000000000000000000001673ffffffffffffffffffffffffffffffffffffffff8716908117909155825190815290810186905286917f2d85c152b87e7ab165fa8084701425fcdd10a7f5ccfab2eb6905ebcaabd7dba4910160405180910390a25050505050565b7ff0c57e16840df040f15088dc2f81fe391c3923bec73e23a9662efc9c229c6a00805468010000000000000000810460ff16159067ffffffffffffffff165f811580156109875750825b90505f8267ffffffffffffffff1660011480156109a35750303b155b9050811580156109b1575080155b156109e8576040517ff92ee8a900000000000000000000000000000000000000000000000000000000815260040160405180910390fd5b84547fffffffffffffffffffffffffffffffffffffffffffffffff00000000000000001660011785558315610a495784547fffffffffffffffffffffffffffffffffffffffffffffff00ffffffffffffffff16680100000000000000001785555b610a52866111ee565b8315610ab35784547fffffffffffffffffffffffffffffffffffffffffffffff00ffffffffffffffff168555604051600181527fc7f505b2f371ae2175ee4913f4499e1f2633a7b5936321eed1cdaeb6115181d29060200160405180910390a15b505050505050565b6004545f9073ffffffffffffffffffffffffffffffffffffffff16610b0c576040517f5ab75e0b00000000000000000000000000000000000000000000000000000000815260040160405180910390fd5b5f610b168361109c565b83516020808601516040519394505f93610b31939201611884565b6040516020818303038152906040528051906020012090505f80610b64835f908152600360205260409020549081151590565b9150915080610b9f576040517f5ab75e0b00000000000000000000000000000000000000000000000000000000815260040160405180910390fd5b5f8281526020819052604090205473ffffffffffffffffffffffffffffffffffffffff1680610bfa576040517f5ab75e0b00000000000000000000000000000000000000000000000000000000815260040160405180910390fd5b6004545f90610c1f9073ffffffffffffffffffffffffffffffffffffffff16876111ff565b6040517f23efa7ec00000000000000000000000000000000000000000000000000000000815273ffffffffffffffffffffffffffffffffffffffff8481166004830152919250908216906323efa7ec906024015f604051808303815f87803b158015610c89575f80fd5b505af1158015610c9b573d5f803e3d5ffd5b50506040517f3042c33e00000000000000000000000000000000000000000000000000000000815273ffffffffffffffffffffffffffffffffffffffff84169250633042c33e9150610cf1908b906004016118a8565b5f604051808303815f87803b158015610d08575f80fd5b505af1158015610d1a573d5f803e3d5ffd5b5050505f87815260016020908152604080832080547fffffffffffffffffffffffff00000000000000000000000000000000000000001673ffffffffffffffffffffffffffffffffffffffff871690811790915583526002909152902089518a92508190610d889082611957565b5060208201516001820190610d9d9082611957565b5060408201516002820190610db29082611957565b509050508073ffffffffffffffffffffffffffffffffffffffff167f3d28a9862fc25712e3786cca6786a76a91e4c419977a1b164bbffdcabd96b4cc89604001518a6020015188604051610e0893929190611a6e565b60405180910390a2979650505050505050565b610e3f60405180606001604052806060815260200160608152602001606081525090565b73ffffffffffffffffffffffffffffffffffffffff82165f90815260026020526040808220815160608101909252805482908290610e7c906118ba565b80601f0160208091040260200160405190810160405280929190818152602001828054610ea8906118ba565b8015610ef35780601f10610eca57610100808354040283529160200191610ef3565b820191905f5260205f20905b815481529060010190602001808311610ed657829003601f168201915b50505050508152602001600182018054610f0c906118ba565b80601f0160208091040260200160405190810160405280929190818152602001828054610f38906118ba565b8015610f835780601f10610f5a57610100808354040283529160200191610f83565b820191905f5260205f20905b815481529060010190602001808311610f6657829003601f168201915b50505050508152602001600282018054610f9c906118ba565b80601f0160208091040260200160405190810160405280929190818152602001828054610fc8906118ba565b80156110135780601f10610fea57610100808354040283529160200191611013565b820191905f5260205f20905b815481529060010190602001808311610ff657829003601f168201915b50505050508152505091505f826040015151111561102f575060015b915091565b61103c6110cb565b73ffffffffffffffffffffffffffffffffffffffff8116611090576040517f1e4fbdf70000000000000000000000000000000000000000000000000000000081525f60048201526024015b60405180910390fd5b61109981611159565b50565b5f816040516020016110ae91906118a8565b604051602081830303815290604052805190602001209050919050565b3361110a7f9016d09d72d40fdae2fd8ceac6b6234c7706214fd39c1cd1e609a0528c1993005473ffffffffffffffffffffffffffffffffffffffff1690565b73ffffffffffffffffffffffffffffffffffffffff16146106a1576040517f118cdaa7000000000000000000000000000000000000000000000000000000008152336004820152602401611087565b7f9016d09d72d40fdae2fd8ceac6b6234c7706214fd39c1cd1e609a0528c19930080547fffffffffffffffffffffffff0000000000000000000000000000000000000000811673ffffffffffffffffffffffffffffffffffffffff848116918217845560405192169182907f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e0905f90a3505050565b6111f6611212565b61109981611279565b5f61120b83835f611281565b9392505050565b7ff0c57e16840df040f15088dc2f81fe391c3923bec73e23a9662efc9c229c6a005468010000000000000000900460ff166106a1576040517fd7e6bcf800000000000000000000000000000000000000000000000000000000815260040160405180910390fd5b61103c611212565b5f814710156112c5576040517fcf47918100000000000000000000000000000000000000000000000000000000815247600482015260248101839052604401611087565b763d602d80600a3d3981f3363d3d373d3d3d363d730000008460601b60e81c175f526e5af43d82803e903d91602b57fd5bf38460781b17602052826037600984f5905073ffffffffffffffffffffffffffffffffffffffff811661120b576040517fb06ebf3d00000000000000000000000000000000000000000000000000000000815260040160405180910390fd5b5f60208284031215611365575f80fd5b5035919050565b803573ffffffffffffffffffffffffffffffffffffffff8116811461138f575f80fd5b919050565b5f602082840312156113a4575f80fd5b61120b8261136c565b5f80604083850312156113be575f80fd5b50508035926020909101359150565b7f4e487b71000000000000000000000000000000000000000000000000000000005f52604160045260245ffd5b6040516060810167ffffffffffffffff8111828210171561141d5761141d6113cd565b60405290565b604051601f82017fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe016810167ffffffffffffffff8111828210171561146a5761146a6113cd565b604052919050565b5f8067ffffffffffffffff84111561148c5761148c6113cd565b50601f83017fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe0166020016114bf81611423565b9150508281528383830111156114d3575f80fd5b828260208301375f602084830101529392505050565b5f82601f8301126114f8575f80fd5b61120b83833560208501611472565b5f60208284031215611517575f80fd5b813567ffffffffffffffff81111561152d575f80fd5b82016060818503121561153e575f80fd5b6115466113fa565b813567ffffffffffffffff81111561155c575f80fd5b611568868285016114e9565b825250602082013567ffffffffffffffff811115611584575f80fd5b611590868285016114e9565b602083015250604082013567ffffffffffffffff8111156115af575f80fd5b80830192505084601f8301126115c3575f80fd5b6115d285833560208501611472565b6040820152949350505050565b5f67ffffffffffffffff8211156115f8576115f86113cd565b5060051b60200190565b5f82601f830112611611575f80fd5b813561162461161f826115df565b611423565b8082825260208201915060208360051b860101925085831115611645575f80fd5b602085015b8381101561166257803583526020928301920161164a565b5095945050505050565b5f805f6060848603121561167e575f80fd5b833567ffffffffffffffff811115611694575f80fd5b6116a086828701611602565b935050602084013567ffffffffffffffff8111156116bc575f80fd5b6116c886828701611602565b925050604084013567ffffffffffffffff8111156116e4575f80fd5b8401601f810186136116f4575f80fd5b803561170261161f826115df565b8082825260208201915060208360051b850101925088831115611723575f80fd5b6020840193505b8284101561174c5761173b8461136c565b82526020938401939091019061172a565b809450505050509250925092565b5f805f6060848603121561176c575f80fd5b83359250602084013591506117836040850161136c565b90509250925092565b5f81518084525f5b818110156117b057602081850181015186830182015201611794565b505f6020828601015260207fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe0601f83011685010191505092915050565b5f815160608452611801606085018261178c565b90506020830151848203602086015261181a828261178c565b915050604083015184820360408601526107fb828261178c565b604081525f61184660408301856117ed565b905082151560208301529392505050565b7f4e487b71000000000000000000000000000000000000000000000000000000005f52603260045260245ffd5b604081525f611896604083018561178c565b82810360208401526107fb818561178c565b602081525f61120b60208301846117ed565b600181811c908216806118ce57607f821691505b602082108103611905577f4e487b71000000000000000000000000000000000000000000000000000000005f52602260045260245ffd5b50919050565b601f82111561195257805f5260205f20601f840160051c810160208510156119305750805b601f840160051c820191505b8181101561194f575f815560010161193c565b50505b505050565b815167ffffffffffffffff811115611971576119716113cd565b6119858161197f84546118ba565b8461190b565b6020601f8211600181146119d6575f83156119a05750848201515b7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff600385901b1c1916600184901b17845561194f565b5f848152602081207fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe08516915b82811015611a235787850151825560209485019460019092019101611a03565b5084821015611a5f57868401517fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff600387901b60f8161c191681555b50505050600190811b01905550565b606081525f611a80606083018661178c565b8281036020840152611a92818661178c565b91505082604083015294935050505056fea26469706673582212203ba7ceb4bf2f54c9bfce4d8feed0d57964c3b5ce4facc28c4739b347c6a9d99b64736f6c634300081a0033")

var METHOD = struct {
	SVM struct {
		AddFunds string
	}
	EVM struct {
		AddFunds string
	}
}{
	SVM: struct{ AddFunds string }{AddFunds: "add_funds"},
	EVM: struct{ AddFunds string }{AddFunds: "addFunds"},
}

// Quorum numerator/denominator for validator votes (>2/3)
const (
	VotesThresholdNumerator   = 2
	VotesThresholdDenominator = 3

	// Default number of blocks after which ballot expires
	DefaultExpiryAfterBlocks = 10000
)

var UniversalTxWithdrawEventSig = crypto.Keccak256Hash([]byte(
	"UniversalTxWithdraw(address,string,address,bytes,uint256,address,uint256,uint256,bytes,uint256,(address,bytes))",
)).Hex()
